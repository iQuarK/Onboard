class CompaniesController < ApplicationController

  before_action :load_company, only: [:show]
  layout 'external'

  # -------------------------------------------------------------------------------------------------------------------
  # GET :subdomain.pinpoint.hr
  # -------------------------------------------------------------------------------------------------------------------
  def show
  end

  # -------------------------------------------------------------------------------------------------------------------
  # GET /companies/new
  # -------------------------------------------------------------------------------------------------------------------
  def new
    @company = Company.new
    render layout: 'application'
  end

  # -------------------------------------------------------------------------------------------------------------------
  # POST /companies
  # -------------------------------------------------------------------------------------------------------------------
  def create
    @company = Company.new(company_params)

    if @company.save
      @company.company_administrators.create(user_id: current_user.id)
      redirect_to root_url(subdomain: @company.subdomain), notice: 'Company was successfully created.'
    else
      render :new
    end
  end

  # -------------------------------------------------------------------------------------------------------------------
  # PRIVATE
  # -------------------------------------------------------------------------------------------------------------------
  private



end
